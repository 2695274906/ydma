<!DOCTYPE>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>实战开发课程_IT培训精品课程_兄弟网课程</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
<meta name="renderer" content="webkit">
<meta property="qc:admins" content="77103107776157736375" />
<meta property="wb:webmaster" content="c4f857219bfae3cb" />
<meta http-equiv="Access-Control-Allow-Origin" content="*" />
<meta http-equiv="Cache-Control" content="no-transform " />
<meta http-equiv="Content-Security-Policy"
	content="script-src 'self' 'unsafe-inline' 'unsafe-eval' *.imooc.com *.mukewang.com *.baidu.com *.sina.com.cn *.bootcss.com">

<meta name="Keywords" content="" />

<meta name="Description"
	content="精品课程，为您提供专业的IT实战开发课程，包含前端开发、后端开发、移动端开发、数据处理、图像处理等各方面IT技能，课程全面、制作精良、讲解通俗易懂。">

<link rel="stylesheet"
	href="/static/moco/v1.0/dist/css/moco.min.css"
	type="text/css" />
<link rel="stylesheet" href="/css/common.css" type="text/css">
<!-- 网页标题栏图标 -->
<link rel="SHORTCUT ICON" href="/favicon.ico" />

<link rel="stylesheet" type="text/css" href="/css/pagination.css" media="screen"  >

<style type="text/css">
.course-nav-item-on{
	display: inline-block;
	margin: 0 4px;
	background-color: #4C9ED9;
	color:black;
}

.sort-item-on{
	color:red;
}

li:hover {
	cursor: pointer;
}

#loadDirection{
	/* padding: 10px; */
	width: 70%;
	/* box-shadow: 0px 5px 10px 3px gray; */
	border-radius: 10px;
	margin-left: 60px;
	margin-bottom: 30px;
	background-color: #F3F5F7;
}

#dspan{
	width: 130px;
}

.course-nav-item>a{
	color: #A599A5;
}
.course-nav-row clearfix{
	height: 20px;
}
.path{
	padding: 10px;
	width: 90%;
	margin-left: 60px;
	margin-bottom: 30px;
	position: relative;
	top: 8px;
	font-size: 20px;
}

</style>

</head>
<body>

	<!-- 引入页头页面 -->
	<div th:replace="head_black"></div>
	
	
		<div class="bindHintBox js-bindHintBox hide">
		<div class="pr">
			为了账号安全，请及时绑定邮箱和手机 <a href="javascript:void(0)" class="ml20 color-red"
				target="_blank">立即绑定</a>
			<button class="closeBindHint js-closeBindHint" type="button"></button>
			<div class="arrow"></div>
		</div>
	</div>

	<div id="main">
		<!-- 导航展示 -->
		 <div class="path">
					<!-- <a href="javascript:void(0)">课程</a> <i class="path-split">\</i> 
					<a href="javascript:void(0)">Java</a> <i class="path-split">\</i> 
					<a href="#">Java</a> -->
		</div>

		<div class="wrap " id="loadDirection">
			
		</div>
		<!-- /导航展示 -->
		<div class="container">
			<div class="course-tool-bar clearfix">
				<!-- <div class="tool-left l">
					<a href="#" id="lv-sort-1">最新</a> 
					<a href="#" id="lv-sort-2">最热</a>
				</div> -->
				<div class="l">
					<span class="tool-item" style="display: none;"> <a
						class="follow-learn tool-chk" href="javascript:void(0);">跟我学</a>
					</span>
				</div>
				<div class="tool-right r">

					<span class="tool-item total-num"> 共<b>22</b>个课程</span> 
					<span class="tool-item tool-pager"> 
						<!-- <span class="pager-num">
							<b class="pager-cur"  id="lv_currentPage">1</b>
							/<em class="pager-total" id="lv_pages">5</em>
						</span>  -->
					</span>
				</div>
			</div>
			
			<!-- 课程展示 -->
			<div  class="course-list">
				<div class="moco-course-list">
					<ul  id="coursesList"  class="clearfix">
					
					</ul>
				</div>
				<div id="counts" class="M-box2"></div>
			</div>
			<!-- /课程展示 -->
		</div>
	</div>

	<!-- 引入页脚页面 -->

	<div th:replace="footer_black"></div>
	<script type="text/javascript">

	function getQueryString(name) {
		var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i");
		var r = window.location.search.substr(1).match(reg);
		if (r != null) return unescape(r[2]); return null;
	};
	
	$(function(){
		var did = getQueryString("did");
		var sid = getQueryString("sid");
		
		loadDirectionsAndSubjects();
		
		loadDirectionVideos(did);
		loadSubjectCourses(sid);
	});
	
	function loadDirectionsAndSubjects(){
		$.ajax({
			url:"http://localhost:7004/direction/all",
			type:"get",
			dataType:"json",
			success:function(result){
				if(result.code == 0 ){
					var direction =  result.data;
					for(var i = 0; i < direction.length; i++){
						var directionName = direction[i].name;
						var directionId = direction[i].id;
						var subjects = direction[i].subjects;
						var str = '';
						
						str += '<div class="top">';
						str += '	<div class="course-content">';
						str += '		<div class="course-nav-box">';
						str += '			<div class="course-nav-row clearfix">';
						str += '				<span id="dspan" class="hd l">'+directionName+'：</span>';
						str += '				<div class="bd">';
						str += '					<ul  id="lv_show_subjects" id="subjectList">';
												for(var j = 0; j < subjects.length; j++ ){
													var subjectName = subjects[j].name;
													var subjcetId = subjects[j].id;		
						str += '							<li class="course-nav-item" >';
						str += '								<a href="/course/subjectInfo?sid='+subjcetId+'">'+subjectName+'</a>';
						str += '							</li>';
												}
						str += '					</ul>';
						str += '				</div>';
						str += '			</div>';
						str += '		</div>';
						str += '	</div>';
						str += '</div>';
						
						$("#loadDirection").append(str);
						
					}
					
				}
			}
		});
		
	};
	
	function loadSubjectCourses(sid){
		$.ajax({
			url:"http://localhost:7002/course/subjectInfo",
		
			data:{"sid":sid},
			type:"get",
			dataType:"json",
			success:function(result){
				if(result.code==0){
					var courses = result.data;
						
					var str='';
					
					for(var i=0;i<courses.length;i++){
					//alert(courses.length);
					var courseId=courses[i].id;
					var price=courses[i].price;
					var image=courses[i].image;
					var intro=courses[i].intro;
					var name=courses[i].name;
					var learnCount=courses[i].learnCount;
					
					str+='		<li>';
					str+='		<div class="index-card-container course-card-container container ">';
					str+='			<a target="_blank" class="course-card" href="/course/id='+courseId+'">';
					str+='				<div class="course-card-top cart-color blue">';
					str+='					<i class="imv2-war"></i> <span>'+name+'</span>';
					str+='				</div>';
					str+='				<div class="course-card-content">';
					str+='					<h3 class="course-card-name">'+name+'</h3>';
					str+='					<p>'+intro+'</p>';
					str+='					<div class="clearfix course-card-bottom">';
					str+='						<div class="course-card-info"><span>·</span>'+learnCount+'人在学</div>';
					str+='					</div>';
					str+='				</div>';
					str+='			</a> <img src="/static/img/index/new/new.png" class="course-cart-new">';
					str+='			<div class="course-card-bk">';
					str+='				<img src="/courseimg/s/cover044_s.jpg" />';
					str+='			</div>';
					str+='		</div>';
					str+='		</li>';
					}
					
					$("#coursesList").append(str);
				}			
			}
		});
		
	};
	
	function loadDirectionVideos(did){
		$.ajax({
			url:"http://localhost:7002/course/directionInfo",
		
			data:{"did":did},
			type:"get",
			dataType:"json",
			success:function(result){
				if(result.code==0){
					var courses = result.data;
						
					var str='';
					
					for(var i=0;i<courses.length;i++){
					//alert(courses.length);
					var courseId=courses[i].id;
					var price=courses[i].price;
					var image=courses[i].image;
					var intro=courses[i].intro;
					var name=courses[i].name;
					var learnCount=courses[i].learnCount;
					
					str+='		<li>';
					str+='		<div class="index-card-container course-card-container container ">';
					str+='			<a target="_blank" class="course-card" href="/course/id='+courseId+'">';
					str+='				<div class="course-card-top cart-color blue">';
					str+='					<i class="imv2-war"></i> <span>'+name+'</span>';
					str+='				</div>';
					str+='				<div class="course-card-content">';
					str+='					<h3 class="course-card-name">'+name+'</h3>';
					str+='					<p>'+intro+'</p>';
					str+='					<div class="clearfix course-card-bottom">';
					str+='						<div class="course-card-info"><span>·</span>'+learnCount+'人在学</div>';
					str+='					</div>';
					str+='				</div>';
					str+='			</a> <img src="/static/img/index/new/new.png" class="course-cart-new">';
					str+='			<div class="course-card-bk">';
					str+='				<img src="/courseimg/s/cover044_s.jpg" />';
					str+='			</div>';
					str+='		</div>';
					str+='		</li>';
					}
					
					$("#coursesList").append(str);
					$("#counts").html(courses.length);
				}			
			}
		});
	};
</script>

</body>
</html>